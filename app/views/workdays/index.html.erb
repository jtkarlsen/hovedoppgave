
<script>
	
	function approve(user_id)
	{
		
	}
	
	
</script>
<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
    <h3 id="myModalLabel">Modal header</h3>
  </div>
  <div class="modal-body">
    <h1>Legg til en ny jobbdag for bruker: <h2><%=@user.name%></h2></h1>

  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    <button class="btn btn-primary">Save changes</button>
  </div>
</div>

<div class="container">
	<%= render 'layouts/supervisor_buttonbar'%>



	<table class="table table-striped table-hover" id="parent_table">
		<thead>
			<tr>
				<th>Navn</th>
				<th>Dato</th>
				<th>Timer</th>
			</tr>
			
		</thead>
		<tbody>
			<% @workdays.each_with_index do |day, index|%>
				<tr class="parent" id=row<%=index%>>
				<td class="row_button" id=<%=index%>><%=day[:day].user.name %></td>
				<td class="row_button" id=<%=index%>><%= day[:day].date %></td>
				<td class="row_button" id=<%=index%>><%= day[:sum]%></td>
				<td>
					<button id="approved_button<%=index%>" class="btn btn-success")">Godkjenn</button>
					<%=button_to  "Godkjenn timer", { :action => "update", :id => day[:day].id, :user_id => day[:day].user.id},{class: "remote" ,id: index,
             	:confirm => "Are you sure?", :method => :put, remote: true}%>
				</td>
				<td>
					<a href="#myModal" id="partly_approved_button<%=index%>" role="button" class="btn btn-warning" data-toggle="modal">Launch demo modal</a>
				</td>
				<td>
					<button id="disapproved_button<%=index%>" class="btn btn-danger supervisor_button">Underkjenn</button>
				</td>
				</tr>
				<tr class="child_row" id="child<%=index%>">
				
				<td colspan="2">
					<table id="child-table" class='table child-table'>
					<thead>
                     <tr id='child-head'>
                     	<th>Start:</th>
                     	<th>Stop:</th>
                     	<th>Antall:</th>
                     	<th>Status:</th>
                     </tr>
                     </thead>
                     <tbody>
                     <% day[:day].workhours.each do |hour|%>	
                     <tr class="info">
                     	<td><%= hour[:start]%></td>
						<td><%= hour[:stop]%></td>
						<td><%= hour[:count]%></td>
						<td><%= hour[:approved]%></td>
                     </tr>
                     <%end%>
                     </tbody>
                 </table>
				
				</td>
				
			</tr>
			<%end%>
		</tbody>
	</table>
	<button class="btn btn-success">Godkjenn alle</button>
</div>
